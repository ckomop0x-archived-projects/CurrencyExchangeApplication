(this["webpackJsonpcurrency-exchange-application"]=this["webpackJsonpcurrency-exchange-application"]||[]).push([[0],{120:function(e,t,n){e.exports=n(280)},125:function(e,t,n){},279:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),u=n(109),l=n(110),i=n(118),s=n(111),h=n(119),d={API_KEY:"2926cc269ba74564be3c4488db03cfb3",DELAY:3e6},g=(n(125),n(112)),m=n.n(g),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Math.floor(n*(t/e)*f(10,a))/f(10,a)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="",n=/(?!0)(?:\d+)?(?:\.)?(?:\d)?(?:\d)/,a=/(?!0)(?:\d+)(?:\.)(?:\d)/,r=/(?!0)(?:\d+)(?:\.)/;return r.test(e)&&!a.test(e)?t=r.exec(e):n.test(e)&&(t=n.exec(e)),t};function f(e,t){for(var n=e,a=1;a<t;a+=1)n*=e;return n}var p=n(113),w=n.n(p),E=n(31),T=n.n(E),b=n(22),O=n.n(b),C=function(){return r.a.createElement(T.a,{muiTheme:O()()},r.a.createElement(w.a,{title:"Exchange your Currency",showMenuIconButton:!1,style:{textAlign:"center",background:"#004d9a"}}))},x=n(37),V=n(114),k=n.n(V),S=function(e){var t=Object(x.a)({margin:20,width:"90% !important",boxSizing:"border-box"}),n=e.floatingLabelText,a=e.value,c=e.onChange;return r.a.createElement(T.a,{muiTheme:O()()},r.a.createElement(k.a,{className:t,floatingLabelText:n,type:"text",value:a,onChange:c}))},j=n(115),A=n.n(j),Y=n(116),D=n.n(Y),L=function(e){var t=[],n=e.currency,a=e.handleChange,c=e.rates;return c&&Object.keys(c)&&Object.keys(c).map((function(e){return t.push(r.a.createElement(D.a,{key:e,value:e,primaryText:e})),t})),r.a.createElement(T.a,{muiTheme:O()()},r.a.createElement(A.a,{value:n,onChange:a},t))},M=Object(x.a)({width:"320px",margin:"auto",textAlign:"center"}),N=Object(x.a)({height:"60px",lineHeight:"60px",verticalAlign:"top",display:"inline-block"}),I=function(e){var t=e.currencyOne,n=e.currencyTwo,a=e.handleChangeOne,c=e.handleChangeTwo,o=e.currencyOneValue,u=e.currencyTwoValue,l=e.rates;return r.a.createElement("div",{className:M},r.a.createElement(L,{rates:l,currency:t,handleChange:a,currencyOneValue:o,currencyTwoValue:u}),r.a.createElement("span",{className:N},l&&y(l[t],l[n],1,4)),r.a.createElement(L,{rates:l,currency:n,handleChange:c,currencyOneValue:o,currencyTwoValue:u}))},W=n(117),K=n.n(W),P=function(e){var t=e.time,n=(new Date).getFullYear();return r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center",margin:20}},t&&"Currencies rates timestamp: ".concat(K()(1e3*t).format("Do MMM YYYY, h:mm a"))),r.a.createElement("div",{style:{textAlign:"center",margin:20,fontWeight:"bold"}},"\xa9 2017-",n," \xa0",r.a.createElement("a",{href:"http://ckomop0x.github.io",style:{color:"#004d9a",textDecoration:"none"}},"Pavel Klochkov")))},_=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={method:"GET",url:"https://openexchangerates.org/api/latest.json?app_id=".concat(d.API_KEY),seconds:0,currencyOne:"EUR",currencyTwo:"USD",currencyOneValue:"",currencyTwoValue:""},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,n=(e={method:this.state.method,url:this.state.url},m()({method:e.method,url:e.url,headers:{"Content-Type":"application/json"}}));n.then((function(e){var n=e.data,a=n.rates,r=n.timestamp;t.setState({rates:a,timestamp:r})})).catch((function(e){t.setState({error:!0,errorText:"Can't connect",message:"".concat(e)})})),setInterval((function(){n.then((function(e){t.setState({rates:e.data.rates})})).catch((function(e){t.setState({error:!0,errorText:"Can't connect",message:"".concat(e)})})),t.setState({seconds:t.state.seconds+30})}),d.DELAY)}},{key:"changeCurrencyOneValue",value:function(e){var t=this.state,n=t.currencyOne,a=t.currencyTwo,r=t.rates;this.setState({currencyOneValue:v(e.target.value)}),this.setState({currencyTwoValue:y(r[n],r[a],v(e.target.value))})}},{key:"changeCurrencyTwoValue",value:function(e){var t=this.state,n=t.currencyOne,a=t.currencyTwo,r=t.rates;this.setState({currencyTwoValue:v(e.target.value)}),this.setState({currencyOneValue:y(r[a],r[n],v(e.target.value))})}},{key:"handleChangeOne",value:function(e,t,n){this.setState({currencyOne:n}),this.setState({currencyOneValue:"",currencyTwoValue:""})}},{key:"handleChangeTwo",value:function(e,t,n){this.setState({currencyTwo:n}),this.setState({currencyOneValue:"",currencyTwoValue:""})}},{key:"render",value:function(){var e=this.state,t=e.currencyOne,n=e.currencyTwo,a=e.currencyOneValue,c=e.currencyTwoValue,o=e.rates,u=e.timestamp;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"App"},r.a.createElement(C,null),r.a.createElement(I,{currencyOne:t,currencyTwo:n,currencyOneValue:a,currencyTwoValue:c,rates:o,handleChangeOne:this.handleChangeOne.bind(this),handleChangeTwo:this.handleChangeTwo.bind(this)}),r.a.createElement(S,{floatingLabelText:t,value:a,onChange:this.changeCurrencyOneValue.bind(this)}),r.a.createElement(S,{floatingLabelText:n,value:c,onChange:this.changeCurrencyTwoValue.bind(this)}),r.a.createElement(P,{time:u})))}}]),t}(a.Component);n(279);if(window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),e.prompt()})),o.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator)try{window.addEventListener("load",(function(){var e="".concat("/CurrencyExchangeApplication","/service-worker.js");navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}))}catch(B){console.error(B)}}},[[120,1,2]]]);
//# sourceMappingURL=main.b5bb0496.chunk.js.map