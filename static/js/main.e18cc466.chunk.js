(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,n){e.exports=n(441)},293:function(e,t,n){},440:function(e,t,n){},441:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),u=n(183),l=n(184),i=n(193),s=n(185),h=n(194),d=n(186),m=n.n(d),g={API_KEY:"2926cc269ba74564be3c4488db03cfb3",DELAY:3e6},y=(n(293),n(187)),v=n.n(y),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Math.floor(n*(t/e)*w(10,a))/w(10,a)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="",n=/(?!0)(?:\d+)?(?:\.)?(?:\d)?(?:\d)/,a=/(?!0)(?:\d+)(?:\.)/;return a.test(e)&&!/(?!0)(?:\d+)(?:\.)(?:\d)/.test(e)?t=a.exec(e):n.test(e)&&(t=n.exec(e)),t};function w(e,t){for(var n=e,a=1;a<t;a+=1)n*=e;return n}var E=n(188),T=n.n(E),b=n(51),O=n.n(b),C=n(35),x=n.n(C),V=function(){return r.a.createElement(O.a,{muiTheme:x()()},r.a.createElement(T.a,{title:"Exchange your Currency",showMenuIconButton:!1,style:{textAlign:"center",background:"#004d9a"}}))},k=n(60),S=n(189),j=n.n(S),A=function(e){var t=Object(k.a)({margin:20,width:"90% !important",boxSizing:"border-box"}),n=e.floatingLabelText,a=e.value,c=e.onChange;return r.a.createElement(O.a,{muiTheme:x()()},r.a.createElement(j.a,{className:t,floatingLabelText:n,type:"text",value:a,onChange:c}))},Y=n(190),D=n.n(Y),L=n(191),M=n.n(L),N=function(e){var t=[],n=e.currency,a=e.handleChange,c=e.rates;return c&&Object.keys(c)&&Object.keys(c).map(function(e){return t.push(r.a.createElement(M.a,{key:e,value:e,primaryText:e})),t}),r.a.createElement(O.a,{muiTheme:x()()},r.a.createElement(D.a,{value:n,onChange:a},t))},I=Object(k.a)({width:"320px",margin:"auto",textAlign:"center"}),W=Object(k.a)({height:"60px",lineHeight:"60px",verticalAlign:"top",display:"inline-block"}),K=function(e){var t=e.currencyOne,n=e.currencyTwo,a=e.handleChangeOne,c=e.handleChangeTwo,o=e.currencyOneValue,u=e.currencyTwoValue,l=e.rates;return r.a.createElement("div",{className:I},r.a.createElement(N,{rates:l,currency:t,handleChange:a,currencyOneValue:o,currencyTwoValue:u}),r.a.createElement("span",{className:W},l&&f(l[t],l[n],1,4)),r.a.createElement(N,{rates:l,currency:n,handleChange:c,currencyOneValue:o,currencyTwoValue:u}))},P=n(192),_=n.n(P),B=function(e){var t=e.time,n=(new Date).getFullYear();return r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center",margin:20}},t&&"Currencies rates timestamp: ".concat(_()(1e3*t).format("Do MMM YYYY, h:mm a"))),r.a.createElement("div",{style:{textAlign:"center",margin:20,fontWeight:"bold"}},"\xa9 2017-",n," \xa0",r.a.createElement("a",{href:"http://ckomop0x.github.io",style:{color:"#004d9a",textDecoration:"none"}},"Pavel Klochkov")))};m()();var J=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={method:"GET",url:"https://openexchangerates.org/api/latest.json?app_id=".concat(g.API_KEY),seconds:0,currencyOne:"EUR",currencyTwo:"USD",currencyOneValue:"",currencyTwoValue:""},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,n=(e={method:this.state.method,url:this.state.url},v()({method:e.method,url:e.url,headers:{"Content-Type":"application/json"}}));n.then(function(e){var n=e.data,a=n.rates,r=n.timestamp;t.setState({rates:a,timestamp:r})}).catch(function(e){t.setState({error:!0,errorText:"Can't connect",message:"".concat(e)})}),setInterval(function(){n.then(function(e){t.setState({rates:e.data.rates})}).catch(function(e){t.setState({error:!0,errorText:"Can't connect",message:"".concat(e)})}),t.setState({seconds:t.state.seconds+30})},g.DELAY)}},{key:"changeCurrencyOneValue",value:function(e){var t=this.state,n=t.currencyOne,a=t.currencyTwo,r=t.rates;this.setState({currencyOneValue:p(e.target.value)}),this.setState({currencyTwoValue:f(r[n],r[a],p(e.target.value))})}},{key:"changeCurrencyTwoValue",value:function(e){var t=this.state,n=t.currencyOne,a=t.currencyTwo,r=t.rates;this.setState({currencyTwoValue:p(e.target.value)}),this.setState({currencyOneValue:f(r[a],r[n],p(e.target.value))})}},{key:"handleChangeOne",value:function(e,t,n){this.setState({currencyOne:n}),this.setState({currencyOneValue:"",currencyTwoValue:""})}},{key:"handleChangeTwo",value:function(e,t,n){this.setState({currencyTwo:n}),this.setState({currencyOneValue:"",currencyTwoValue:""})}},{key:"render",value:function(){var e=this.state,t=e.currencyOne,n=e.currencyTwo,a=e.currencyOneValue,c=e.currencyTwoValue,o=e.rates,u=e.timestamp;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"App"},r.a.createElement(V,null),r.a.createElement(K,{currencyOne:t,currencyTwo:n,currencyOneValue:a,currencyTwoValue:c,rates:o,handleChangeOne:this.handleChangeOne.bind(this),handleChangeTwo:this.handleChangeTwo.bind(this)}),r.a.createElement(A,{floatingLabelText:t,value:a,onChange:this.changeCurrencyOneValue.bind(this)}),r.a.createElement(A,{floatingLabelText:n,value:c,onChange:this.changeCurrencyTwoValue.bind(this)}),r.a.createElement(B,{time:u})))}}]),t}(a.Component);n(440);if(window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),e.prompt()}),o.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator)try{window.addEventListener("load",function(){var e="".concat("/CurrencyExchangeApplication","/service-worker.js");navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})})}catch(U){console.error(U)}}},[[195,1,2]]]);
//# sourceMappingURL=main.e18cc466.chunk.js.map