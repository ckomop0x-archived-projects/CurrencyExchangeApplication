(this["webpackJsonpcurrency-exchange-application"]=this["webpackJsonpcurrency-exchange-application"]||[]).push([[0],{34:function(e,t,n){e.exports={currencySelector:"currency-selector_currencySelector__28ys7",currencyRate:"currency-selector_currencyRate__xf4i2"}},59:function(e,t,n){e.exports=n(87)},64:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),l=n(11),i={API_KEY:"2926cc269ba74564be3c4488db03cfb3",DELAY:3e6},u=(n(64),n(47)),s=n.n(u),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Math.floor(n*(t/e)*g(10,a))/g(10,a)},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="",n=/(?!0)(?:\d+)?(?:\.)?(?:\d)?(?:\d)/,a=/(?!0)(?:\d+)(?:\.)(?:\d)/,r=/(?!0)(?:\d+)(?:\.)/;return r.test(e)&&!a.test(e)?t=r.exec(e):n.test(e)&&(t=n.exec(e)),t[0]||""};function g(e,t){for(var n=e,a=1;a<t;a+=1)n*=e;return n}var h=n(123),f=n(127),v=n(128),p=r.a.memo((function(){return r.a.createElement(h.a,{position:"relative",title:"",style:{textAlign:"center",background:"#004d9a",padding:10}},r.a.createElement(f.a,{variant:"dense"},r.a.createElement(v.a,{variant:"h6",color:"inherit"},"Exchange your Currency")))})),E=n(51),b=n(130),y=r.a.memo((function(e){var t=e.value,n=e.onChange,a=Object(E.a)({margin:20,width:"90% !important",boxSizing:"border-box"});return r.a.createElement(b.a,{className:a,type:"text",value:t,onChange:n})})),O=n(129),j=n(50),x=n(131),C=r.a.memo((function(e){var t=e.currency,n=e.handleChange,a=e.currencyNames,c=r.a.useState(null),o=Object(l.a)(c,2),i=o[0],u=o[1],s=function(){u(null)},m=function(e){var t=e.currentTarget.getAttribute("data-currencyname");n(t),s()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}},t),r.a.createElement(j.a,{anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:s},a.map((function(e){return r.a.createElement(x.a,{key:e,"data-currencyname":e,onClick:m},e)}))))})),k=n(34),w=n.n(k),S=r.a.memo((function(e){var t=e.currencyOne,n=e.currencyTwo,a=e.handleChangeOne,c=e.handleChangeTwo,o=e.rates;return r.a.createElement("div",{className:w.a.currencySelector},r.a.createElement(C,{currencyNames:Object.keys(o),currency:t,handleChange:a}),r.a.createElement("span",{className:w.a.currencyRate},m(o[t],o[n],1,4)),r.a.createElement(C,{currencyNames:Object.keys(o),currency:n,handleChange:c}))})),T=n(49),A=n.n(T),N=r.a.memo((function(e){var t=e.time,n=(new Date).getFullYear();return r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center",margin:20}},t&&"Currencies rates timestamp: ".concat(A()(1e3*t).format("Do MMM YYYY, h:mm a"))),r.a.createElement("div",{style:{textAlign:"center",margin:20,fontWeight:"bold"}},"\xa9 2017-",n," \xa0",r.a.createElement("a",{href:"http://ckomop0x.github.io",style:{color:"#004d9a",textDecoration:"none"}},"Pavel Klochkov")))})),Y=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),u=Object(l.a)(o,2),g=u[0],h=u[1],f=Object(a.useState)(0),v=Object(l.a)(f,2),E=v[0],b=v[1],O=Object(a.useState)("EUR"),j=Object(l.a)(O,2),x=j[0],C=j[1],k=Object(a.useState)("USD"),w=Object(l.a)(k,2),T=w[0],A=w[1],Y=Object(a.useState)(""),_=Object(l.a)(Y,2),D=_[0],L=_[1],M=Object(a.useState)(""),I=Object(l.a)(M,2),R=I[0],W=I[1],K=Object(a.useState)({}),P=Object(l.a)(K,2),B=P[0],F=P[1];Object(a.useEffect)((function(){var e,t=(e={url:"https://openexchangerates.org/api/latest.json?app_id=".concat(i.API_KEY)},s()({method:e.method||"GET",url:e.url,headers:{"Content-Type":"application/json"}}));t.then((function(e){var t=e.data,n=t.rates,a=t.timestamp;b(a),h(n)})).catch((function(e){F({error:!0,errorText:"Can't connect",message:"".concat(e)})})),setInterval((function(){t.then((function(e){h(e.data.rates)})).catch((function(e){F({error:!0,errorText:"Can't connect",message:"".concat(e)})})),c({seconds:(void 0).state.seconds+30})}),i.DELAY)}),[n]);return r.a.createElement("div",{className:"container"},B&&r.a.createElement("div",null,B.text),g&&r.a.createElement("main",{className:"App"},r.a.createElement(p,null),r.a.createElement(S,{currencyOne:x,currencyTwo:T,rates:g,handleChangeOne:function(e){C(e),L(""),W("")},handleChangeTwo:function(e){A(e),L(""),W("")}}),r.a.createElement(y,{floatingLabelText:x,value:D,onChange:function(e){L(d(e.target.value)),W(m(g[x],g[T],d(e.target.value)))}}),r.a.createElement(y,{floatingLabelText:T,value:R,onChange:function(e){W(d(e.target.value)),L(m(g[T],g[x],d(e.target.value)))}}),r.a.createElement(N,{time:E})))};n(86);if(window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),e.prompt()})),o.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator)try{window.addEventListener("load",(function(){var e="".concat("/CurrencyExchangeApplication","/service-worker.js");navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}))}catch(_){console.error(_)}}},[[59,1,2]]]);
//# sourceMappingURL=main.5d4a390e.chunk.js.map